@model UsersViewModel

@{
    ViewBag.Title = "Пользователи";
    Layout = "_Layout";
}

<h2>Список пользователей</h2>

<div class="row">
    <div class="phone_add_form col-md-6">
        <form asp-action="Index" asp-controller="Users" method="get">
            <div class="form_row">
                <label for="name">
                    Имя:
                    <input
                        id="name"
                        type="text"
                        name="filterByName"
                        value="@Model.Filter">
                </label>
                <input type="text" hidden name="page" value="@Model.PageViewModel.Page">
                <button class="btn btn-outline-warning">Отправить</button>
            </div>
        </form>
    </div>
</div>

<table style="width: 100%">
    <tr>
        <th>
            <a
                asp-action="Index"
                asp-controller="Users"
                asp-route-order="@ViewBag.NameSort"
                asp-route-filterByName="@Model.Filter">
                Имя
            </a>
        </th>
        <th>
            <a
                asp-action="Index"
                asp-controller="Users"
                asp-route-order="@ViewBag.AgeSort"
                asp-route-filterByName="@Model.Filter">
                Возраст
            </a>
        </th>
    </tr>
    @foreach (var user in Model.Users)
    {
        <tr>
            <td>@user.Name</td>
            <td>@user.Age</td>
        </tr>
    }
</table>
<nav aria-label="Page navigation">
    <ul class="pagination justify-content-left">
        @if (Model.PageViewModel.HasPrevious)
        {
            <li class="page-item">
                <a 
                    asp-action="Index" 
                    asp-controller="Users" 
                    class="page-link"
                    asp-route-page="@(Model.PageViewModel.Page - 1)"
                    asp-route-filterByName="@Model.Filter">Previous</a>
            </li>
        }
        @if (Model.PageViewModel.HasNext)
        {
            <li class="page-item">
                <a 
                    class="page-link"
                     asp-action="Index"
                    asp-controller="Users"
                    asp-route-page="@(Model.PageViewModel.Page + 1)" 
                    asp-route-filterByName="@Model.Filter">Next</a>
            </li>
        }
    </ul>
</nav>